#!/usr/bin/env python3
import sys
from sys import stdin
import argparse
import base64

###############################################################################
class RELAY():
    def __init__(self):
        pass

    def run(self):
        while True:
            msg = self.getTestVector()
            self.processTestVector(msg)

    def getTestVector(self):
        payload = stdin.readline()
        un64 = base64.b64decode(payload.encode()).decode()
        pairlist = un64.split()
        assert(0 == (len(pairlist) % 2))
        pairs = [pairlist[i:i+2] for i in range(0,len(pairlist),2)]
        alist = { key: value for (key,value) in pairs}
        return alist

    def processTestVector(self,msg):
        material = int(msg["material"])

        thermInit = int(msg["thermInit"])
        thermMod1 = (int(msg["thermMod1"]))
        thermMod2 = (int(msg["thermMod2"]))
        thermMod3 = (int(msg["thermMod3"]))
        thermMod4 = (int(msg["thermMod4"]))
        thermMod5 = (int(msg["thermMod5"]))
        thermMod6 = (int(msg["thermMod6"]))
        thermMod7 = (int(msg["thermMod7"]))
        heatInit = int(msg["heatInit"])
        heatMod1 = (int(msg["heatMod1"]))
        heatMod2 = (int(msg["heatMod2"]))
        heatMod3 = (int(msg["heatMod3"]))
        heatMod4 = (int(msg["heatMod4"]))
        heatMod5 = (int(msg["heatMod5"]))
        heatMod6 = (int(msg["heatMod6"]))
        heatMod7 = (int(msg["heatMod7"]))

        xDim = int(msg["xDim"])
        yDim = int(msg["yDim"])
        zDim = int(msg["zDim"])

        isoFlag = int(msg["isoFlag"])
        isoNum = int(msg["isoNum"])
        isoVals = []
        isoVals.append(int(msg["isoVal0"]))
        isoVals.append(int(msg["isoVal1"]))
        isoVals.append(int(msg["isoVal2"]))
        isoVals.append(int(msg["isoVal3"]))
        isoVals.append(int(msg["isoVal4"]))
        isoVals.append(int(msg["isoVal5"]))
        isoVals.append(int(msg["isoVal6"]))
        isoVals.append(int(msg["isoVal7"]))
        isoVals.append(int(msg["isoVal8"]))
        isoVals.append(int(msg["isoVal9"]))
        isoVals.append(int(msg["isoVal10"]))
        isoVals.append(int(msg["isoVal11"]))
        isoVals.append(int(msg["isoVal12"]))
        isoVals.append(int(msg["isoVal13"]))
        isoVals.append(int(msg["isoVal14"]))
        isoVals.append(int(msg["isoVal15"]))
        isoVals.append(int(msg["isoVal16"]))
        isoVals.append(int(msg["isoVal17"]))
        isoVals.append(int(msg["isoVal18"]))
        isoVals.append(int(msg["isoVal19"]))
        isoVals.append(int(msg["isoVal20"]))
        isoVals.append(int(msg["isoVal21"]))
        isoVals.append(int(msg["isoVal22"]))
        isoVals.append(int(msg["isoVal23"]))
        isoVals.append(int(msg["isoVal24"]))
        isoVals.append(int(msg["isoVal25"]))
        isoVals.append(int(msg["isoVal26"]))
        isoVals.append(int(msg["isoVal27"]))
        isoVals.append(int(msg["isoVal28"]))
        isoVals.append(int(msg["isoVal29"]))
        isoVals.append(int(msg["isoVal30"]))
        isoVals.append(int(msg["isoVal31"]))
        isoVals.append(int(msg["isoVal32"]))
        isoVals.append(int(msg["isoVal33"]))
        isoVals.append(int(msg["isoVal34"]))
        isoVals.append(int(msg["isoVal35"]))
        isoVals.append(int(msg["isoVal36"]))
        isoVals.append(int(msg["isoVal37"]))
        isoVals.append(int(msg["isoVal38"]))
        isoVals.append(int(msg["isoVal39"]))
        isoVals.append(int(msg["isoVal40"]))
        isoVals.append(int(msg["isoVal41"]))
        isoVals.append(int(msg["isoVal42"]))
        isoVals.append(int(msg["isoVal43"]))
        isoVals.append(int(msg["isoVal44"]))
        isoVals.append(int(msg["isoVal45"]))
        isoVals.append(int(msg["isoVal46"]))
        isoVals.append(int(msg["isoVal47"]))
        isoVals.append(int(msg["isoVal48"]))
        isoVals.append(int(msg["isoVal49"]))
        isoVals.append(int(msg["isoVal50"]))
        isoVals.append(int(msg["isoVal51"]))
        isoVals.append(int(msg["isoVal52"]))
        isoVals.append(int(msg["isoVal53"]))
        isoVals.append(int(msg["isoVal54"]))
        isoVals.append(int(msg["isoVal55"]))
        isoVals.append(int(msg["isoVal56"]))
        isoVals.append(int(msg["isoVal57"]))
        isoVals.append(int(msg["isoVal58"]))
        isoVals.append(int(msg["isoVal59"]))
        isoVals.append(int(msg["isoVal60"]))
        isoVals.append(int(msg["isoVal61"]))
        isoVals.append(int(msg["isoVal62"]))
        isoVals.append(int(msg["isoVal63"]))
        isoVals.append(int(msg["isoVal64"]))
        isoVals.append(int(msg["isoVal65"]))
        isoVals.append(int(msg["isoVal66"]))
        isoVals.append(int(msg["isoVal67"]))
        isoVals.append(int(msg["isoVal68"]))
        isoVals.append(int(msg["isoVal69"]))
        isoVals.append(int(msg["isoVal70"]))
        isoVals.append(int(msg["isoVal71"]))
        isoVals.append(int(msg["isoVal72"]))
        isoVals.append(int(msg["isoVal73"]))
        isoVals.append(int(msg["isoVal74"]))
        isoVals.append(int(msg["isoVal75"]))
        isoVals.append(int(msg["isoVal76"]))
        isoVals.append(int(msg["isoVal77"]))
        isoVals.append(int(msg["isoVal78"]))
        isoVals.append(int(msg["isoVal79"]))
        isoVals.append(int(msg["isoVal80"]))
        isoVals.append(int(msg["isoVal81"]))
        isoVals.append(int(msg["isoVal82"]))
        isoVals.append(int(msg["isoVal83"]))
        isoVals.append(int(msg["isoVal84"]))
        isoVals.append(int(msg["isoVal85"]))
        isoVals.append(int(msg["isoVal86"]))
        isoVals.append(int(msg["isoVal87"]))
        isoVals.append(int(msg["isoVal88"]))
        isoVals.append(int(msg["isoVal89"]))
        isoVals.append(int(msg["isoVal90"]))
        isoVals.append(int(msg["isoVal91"]))
        isoVals.append(int(msg["isoVal92"]))
        isoVals.append(int(msg["isoVal93"]))
        isoVals.append(int(msg["isoVal94"]))
        isoVals.append(int(msg["isoVal95"]))
        isoVals.append(int(msg["isoVal96"]))
        isoVals.append(int(msg["isoVal97"]))
        isoVals.append(int(msg["isoVal98"]))
        isoVals.append(int(msg["isoVal99"]))

        enerFlag = int(msg["enerFlag"])
        enerNum = int(msg["enerNum"])
        enerVals = []
        enerVals.append(int(msg["enerVal0"]))
        enerVals.append(int(msg["enerVal1"]))
        enerVals.append(int(msg["enerVal2"]))
        enerVals.append(int(msg["enerVal3"]))
        enerVals.append(int(msg["enerVal4"]))
        enerVals.append(int(msg["enerVal5"]))
        enerVals.append(int(msg["enerVal6"]))
        enerVals.append(int(msg["enerVal7"]))
        enerVals.append(int(msg["enerVal8"]))
        enerVals.append(int(msg["enerVal9"]))
        enerVals.append(int(msg["enerVal10"]))
        enerVals.append(int(msg["enerVal11"]))
        enerVals.append(int(msg["enerVal12"]))
        enerVals.append(int(msg["enerVal13"]))
        enerVals.append(int(msg["enerVal14"]))
        enerVals.append(int(msg["enerVal15"]))
        enerVals.append(int(msg["enerVal16"]))
        enerVals.append(int(msg["enerVal17"]))
        enerVals.append(int(msg["enerVal18"]))
        enerVals.append(int(msg["enerVal19"]))
        enerVals.append(int(msg["enerVal20"]))
        enerVals.append(int(msg["enerVal21"]))
        enerVals.append(int(msg["enerVal22"]))
        enerVals.append(int(msg["enerVal23"]))
        enerVals.append(int(msg["enerVal24"]))
        enerVals.append(int(msg["enerVal25"]))
        enerVals.append(int(msg["enerVal26"]))
        enerVals.append(int(msg["enerVal27"]))
        enerVals.append(int(msg["enerVal28"]))
        enerVals.append(int(msg["enerVal29"]))
        enerVals.append(int(msg["enerVal30"]))
        enerVals.append(int(msg["enerVal31"]))
        enerVals.append(int(msg["enerVal32"]))
        enerVals.append(int(msg["enerVal33"]))
        enerVals.append(int(msg["enerVal34"]))
        enerVals.append(int(msg["enerVal35"]))
        enerVals.append(int(msg["enerVal36"]))
        enerVals.append(int(msg["enerVal37"]))
        enerVals.append(int(msg["enerVal38"]))
        enerVals.append(int(msg["enerVal39"]))
        enerVals.append(int(msg["enerVal40"]))
        enerVals.append(int(msg["enerVal41"]))
        enerVals.append(int(msg["enerVal42"]))
        enerVals.append(int(msg["enerVal43"]))
        enerVals.append(int(msg["enerVal44"]))
        enerVals.append(int(msg["enerVal45"]))
        enerVals.append(int(msg["enerVal46"]))
        enerVals.append(int(msg["enerVal47"]))
        enerVals.append(int(msg["enerVal48"]))
        enerVals.append(int(msg["enerVal49"]))
        enerVals.append(int(msg["enerVal50"]))
        enerVals.append(int(msg["enerVal51"]))
        enerVals.append(int(msg["enerVal52"]))
        enerVals.append(int(msg["enerVal53"]))
        enerVals.append(int(msg["enerVal54"]))
        enerVals.append(int(msg["enerVal55"]))
        enerVals.append(int(msg["enerVal56"]))
        enerVals.append(int(msg["enerVal57"]))
        enerVals.append(int(msg["enerVal58"]))
        enerVals.append(int(msg["enerVal59"]))
        enerVals.append(int(msg["enerVal60"]))
        enerVals.append(int(msg["enerVal61"]))
        enerVals.append(int(msg["enerVal62"]))
        enerVals.append(int(msg["enerVal63"]))
        enerVals.append(int(msg["enerVal64"]))
        enerVals.append(int(msg["enerVal65"]))
        enerVals.append(int(msg["enerVal66"]))
        enerVals.append(int(msg["enerVal67"]))
        enerVals.append(int(msg["enerVal68"]))
        enerVals.append(int(msg["enerVal69"]))
        enerVals.append(int(msg["enerVal70"]))
        enerVals.append(int(msg["enerVal71"]))
        enerVals.append(int(msg["enerVal72"]))
        enerVals.append(int(msg["enerVal73"]))
        enerVals.append(int(msg["enerVal74"]))
        enerVals.append(int(msg["enerVal75"]))
        enerVals.append(int(msg["enerVal76"]))
        enerVals.append(int(msg["enerVal77"]))
        enerVals.append(int(msg["enerVal78"]))
        enerVals.append(int(msg["enerVal79"]))
        enerVals.append(int(msg["enerVal80"]))
        enerVals.append(int(msg["enerVal81"]))
        enerVals.append(int(msg["enerVal82"]))
        enerVals.append(int(msg["enerVal83"]))
        enerVals.append(int(msg["enerVal84"]))
        enerVals.append(int(msg["enerVal85"]))
        enerVals.append(int(msg["enerVal86"]))
        enerVals.append(int(msg["enerVal87"]))
        enerVals.append(int(msg["enerVal88"]))
        enerVals.append(int(msg["enerVal89"]))
        enerVals.append(int(msg["enerVal90"]))
        enerVals.append(int(msg["enerVal91"]))
        enerVals.append(int(msg["enerVal92"]))
        enerVals.append(int(msg["enerVal93"]))
        enerVals.append(int(msg["enerVal94"]))
        enerVals.append(int(msg["enerVal95"]))
        enerVals.append(int(msg["enerVal96"]))
        enerVals.append(int(msg["enerVal97"]))
        enerVals.append(int(msg["enerVal98"]))
        enerVals.append(int(msg["enerVal99"]))

        runTime = int(msg["runTime"])

        msg = ""
        msg = "{material}".format(material = material)
        sys.stdout.write(msg)
        sys.stdout.flush()
        if (material == 4): #Custom material
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod1
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod2
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod3
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod4
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod5
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod6
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            thermInit *= thermMod7
            msg = "{tcVal}".format(tcVal = thermInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod1
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod2
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod3
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod4
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod5
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod6
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()
            heatInit *= heatMod7
            msg = "{hcVal}".format(hcVal = heatInit)
            sys.stdout.write(msg)
            sys.stdout.flush()

        msg = "{x},{y},{z}".format(x = xDim, y = yDim, z = zDim)
        sys.stdout.write(msg)
        sys.stdout.flush()
        if (isoFlag == 0): #Isothermic
            msg = "y"
            sys.stdout.write(msg)
            sys.stdout.flush()
            msg = "{temp}".format(temp = isoVals[0])
            sys.stdout.write(msg)
            sys.stdout.flush()
        else: #Not isothermic
            msg = "n"
            sys.stdout.write(msg)
            sys.stdout.flush()
            msg = ""
            for i in range(0, isoNum, 1):
                msg += "{temp},".format(temp = isoVals[i])
            sys.stdout.write(msg[:-1]) #Remove the final comma
            sys.stdout.flush()
        if (enerFlag == 0): #Constant energy sources
            msg = "y"
            sys.stdout.write(msg)
            sys.stdout.flush()
            msg = ""
            for i in range(0, enerNum, 1):
                msg += "{temp},".format(temp = enerVals[i])
            sys.stdout.write(msg[:-1]) #Remove the final comma
            sys.stdout.flush()
        else:
            msg = "n"
            sys.stdout.write(msg)
            sys.stdout.flush()
        msg = "{runtime}".format(runtime = runTime)
        sys.stdout.write(msg)
        sys.stdout.flush()

        msg = "\n"
        for i in range(0, runTime, 10): #Cycle through the simulation
            sys.stdout.write(msg)
            sys.stdout.flush()

###############################################################################
def main():
    parser = argparse.ArgumentParser(description="Material_Temperature_Simulation Relay")
    relay = RELAY()
    relay.run()

###############################################################################
if __name__ == "__main__":
    sys.exit(main())
