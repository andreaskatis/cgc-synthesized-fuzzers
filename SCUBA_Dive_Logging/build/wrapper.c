#include "scuba_dive_logging.h"
#include <stdlib.h>
#include <unistd.h>
#include <sys/syscall.h>

typedef struct genStr {
  int length;
  int chas[100];
} genStr_t

typedef struct diverInfo {
  genStr street;
  genStr city;
  genStr state;
  int zip;
  int phone;
  int PADINum;
} diverInfo_t

typedef struct logDive {
  int hr;
  int min;
  int sec;
  int maxDep;
  int avgDep;
  int durat;
  int O2;
  int PSIIn;
  int PSIOut;
} logDive_t

typedef struct msg {
  int main;
  genStr sharedStr1;
  genStr sharedStr2;
  int month;
  int day;
  int year;
  diverInfo change;
  logDive log;
  int downHex[32];
  int index;
} msg_t;

extern int generateRandomValue(_Bool lflag, _Bool uflag, int lbound, int ubound) {
  if (lbound == 0 && ubound == 0) {
    int s;
    syscall(SYS_getrandom, &s, sizeof(int), 1);
    return rand();
  } else {
    int min = lflag ? lbound : lbound+1;
    int max = uflag ? ubound : ubound-1;
    int range = max - min + 1;
    int s;
    syscall(SYS_getrandom, &s, sizeof(int), 1);
    double rnd = ((double) rand())/(1.0 + ((double) RAND_MAX));
    if (rnd < 0) rnd = rnd * -1;
    int value = ((int) (((double) range)*rnd));
    return value + min;
  }
}

msg_t step() {
  updateFunction();
  msg_t msg;
  msg.main                   = main[0]

  msg.sharedStr1.length      = str1Length[0];
  msg.sharedStr1.chas[0]     = str1cha0[0];
  msg.sharedStr1.chas[1]     = str1cha1[0];
  msg.sharedStr1.chas[2]     = str1cha2[0];
  msg.sharedStr1.chas[3]     = str1cha3[0];
  msg.sharedStr1.chas[4]     = str1cha4[0];
  msg.sharedStr1.chas[5]     = str1cha5[0];
  msg.sharedStr1.chas[6]     = str1cha6[0];
  msg.sharedStr1.chas[7]     = str1cha7[0];
  msg.sharedStr1.chas[8]     = str1cha8[0];
  msg.sharedStr1.chas[9]     = str1cha9[0];
  msg.sharedStr1.chas[10]    = str1cha10[0];
  msg.sharedStr1.chas[11]    = str1cha11[0];
  msg.sharedStr1.chas[12]    = str1cha12[0];
  msg.sharedStr1.chas[13]    = str1cha13[0];
  msg.sharedStr1.chas[14]    = str1cha14[0];
  msg.sharedStr1.chas[15]    = str1cha15[0];
  msg.sharedStr1.chas[16]    = str1cha16[0];
  msg.sharedStr1.chas[17]    = str1cha17[0];
  msg.sharedStr1.chas[18]    = str1cha18[0];
  msg.sharedStr1.chas[19]    = str1cha19[0];
  msg.sharedStr1.chas[20]    = str1cha20[0];
  msg.sharedStr1.chas[21]    = str1cha21[0];
  msg.sharedStr1.chas[22]    = str1cha22[0];
  msg.sharedStr1.chas[23]    = str1cha23[0];
  msg.sharedStr1.chas[24]    = str1cha24[0];
  msg.sharedStr1.chas[25]    = str1cha25[0];
  msg.sharedStr1.chas[26]    = str1cha26[0];
  msg.sharedStr1.chas[27]    = str1cha27[0];
  msg.sharedStr1.chas[28]    = str1cha28[0];
  msg.sharedStr1.chas[29]    = str1cha29[0];
  msg.sharedStr1.chas[30]    = str1cha30[0];
  msg.sharedStr1.chas[31]    = str1cha31[0];
  msg.sharedStr1.chas[32]    = str1cha32[0];
  msg.sharedStr1.chas[33]    = str1cha33[0];
  msg.sharedStr1.chas[34]    = str1cha34[0];
  msg.sharedStr1.chas[35]    = str1cha35[0];
  msg.sharedStr1.chas[36]    = str1cha36[0];
  msg.sharedStr1.chas[37]    = str1cha37[0];
  msg.sharedStr1.chas[38]    = str1cha38[0];
  msg.sharedStr1.chas[39]    = str1cha39[0];
  msg.sharedStr1.chas[40]    = str1cha40[0];
  msg.sharedStr1.chas[41]    = str1cha41[0];
  msg.sharedStr1.chas[42]    = str1cha42[0];
  msg.sharedStr1.chas[43]    = str1cha43[0];
  msg.sharedStr1.chas[44]    = str1cha44[0];
  msg.sharedStr1.chas[45]    = str1cha45[0];
  msg.sharedStr1.chas[46]    = str1cha46[0];
  msg.sharedStr1.chas[47]    = str1cha47[0];
  msg.sharedStr1.chas[48]    = str1cha48[0];
  msg.sharedStr1.chas[49]    = str1cha49[0];
  msg.sharedStr1.chas[50]    = str1cha50[0];
  msg.sharedStr1.chas[51]    = str1cha51[0];
  msg.sharedStr1.chas[52]    = str1cha52[0];
  msg.sharedStr1.chas[53]    = str1cha53[0];
  msg.sharedStr1.chas[54]    = str1cha54[0];
  msg.sharedStr1.chas[55]    = str1cha55[0];
  msg.sharedStr1.chas[56]    = str1cha56[0];
  msg.sharedStr1.chas[57]    = str1cha57[0];
  msg.sharedStr1.chas[58]    = str1cha58[0];
  msg.sharedStr1.chas[59]    = str1cha59[0];
  msg.sharedStr1.chas[60]    = str1cha60[0];
  msg.sharedStr1.chas[61]    = str1cha61[0];
  msg.sharedStr1.chas[62]    = str1cha62[0];
  msg.sharedStr1.chas[63]    = str1cha63[0];
  msg.sharedStr1.chas[64]    = str1cha64[0];
  msg.sharedStr1.chas[65]    = str1cha65[0];
  msg.sharedStr1.chas[66]    = str1cha66[0];
  msg.sharedStr1.chas[67]    = str1cha67[0];
  msg.sharedStr1.chas[68]    = str1cha68[0];
  msg.sharedStr1.chas[69]    = str1cha69[0];
  msg.sharedStr1.chas[70]    = str1cha70[0];
  msg.sharedStr1.chas[71]    = str1cha71[0];
  msg.sharedStr1.chas[72]    = str1cha72[0];
  msg.sharedStr1.chas[73]    = str1cha73[0];
  msg.sharedStr1.chas[74]    = str1cha74[0];
  msg.sharedStr1.chas[75]    = str1cha75[0];
  msg.sharedStr1.chas[76]    = str1cha76[0];
  msg.sharedStr1.chas[77]    = str1cha77[0];
  msg.sharedStr1.chas[78]    = str1cha78[0];
  msg.sharedStr1.chas[79]    = str1cha79[0];
  msg.sharedStr1.chas[80]    = str1cha80[0];
  msg.sharedStr1.chas[81]    = str1cha81[0];
  msg.sharedStr1.chas[82]    = str1cha82[0];
  msg.sharedStr1.chas[83]    = str1cha83[0];
  msg.sharedStr1.chas[84]    = str1cha84[0];
  msg.sharedStr1.chas[85]    = str1cha85[0];
  msg.sharedStr1.chas[86]    = str1cha86[0];
  msg.sharedStr1.chas[87]    = str1cha87[0];
  msg.sharedStr1.chas[88]    = str1cha88[0];
  msg.sharedStr1.chas[89]    = str1cha89[0];
  msg.sharedStr1.chas[90]    = str1cha90[0];
  msg.sharedStr1.chas[91]    = str1cha91[0];
  msg.sharedStr1.chas[92]    = str1cha92[0];
  msg.sharedStr1.chas[93]    = str1cha93[0];
  msg.sharedStr1.chas[94]    = str1cha94[0];
  msg.sharedStr1.chas[95]    = str1cha95[0];
  msg.sharedStr1.chas[96]    = str1cha96[0];
  msg.sharedStr1.chas[97]    = str1cha97[0];
  msg.sharedStr1.chas[98]    = str1cha98[0];
  msg.sharedStr1.chas[99]    = str1cha99[0];

  msg.sharedStr2.length      = str2Length[0];
  msg.sharedStr2.chas[0]     = str2cha0[0];
  msg.sharedStr2.chas[1]     = str2cha1[0];
  msg.sharedStr2.chas[2]     = str2cha2[0];
  msg.sharedStr2.chas[3]     = str2cha3[0];
  msg.sharedStr2.chas[4]     = str2cha4[0];
  msg.sharedStr2.chas[5]     = str2cha5[0];
  msg.sharedStr2.chas[6]     = str2cha6[0];
  msg.sharedStr2.chas[7]     = str2cha7[0];
  msg.sharedStr2.chas[8]     = str2cha8[0];
  msg.sharedStr2.chas[9]     = str2cha9[0];
  msg.sharedStr2.chas[10]    = str2cha10[0];
  msg.sharedStr2.chas[11]    = str2cha11[0];
  msg.sharedStr2.chas[12]    = str2cha12[0];
  msg.sharedStr2.chas[13]    = str2cha13[0];
  msg.sharedStr2.chas[14]    = str2cha14[0];
  msg.sharedStr2.chas[15]    = str2cha15[0];
  msg.sharedStr2.chas[16]    = str2cha16[0];
  msg.sharedStr2.chas[17]    = str2cha17[0];
  msg.sharedStr2.chas[18]    = str2cha18[0];
  msg.sharedStr2.chas[19]    = str2cha19[0];
  msg.sharedStr2.chas[20]    = str2cha20[0];
  msg.sharedStr2.chas[21]    = str2cha21[0];
  msg.sharedStr2.chas[22]    = str2cha22[0];
  msg.sharedStr2.chas[23]    = str2cha23[0];
  msg.sharedStr2.chas[24]    = str2cha24[0];
  msg.sharedStr2.chas[25]    = str2cha25[0];
  msg.sharedStr2.chas[26]    = str2cha26[0];
  msg.sharedStr2.chas[27]    = str2cha27[0];
  msg.sharedStr2.chas[28]    = str2cha28[0];
  msg.sharedStr2.chas[29]    = str2cha29[0];
  msg.sharedStr2.chas[30]    = str2cha30[0];
  msg.sharedStr2.chas[31]    = str2cha31[0];
  msg.sharedStr2.chas[32]    = str2cha32[0];
  msg.sharedStr2.chas[33]    = str2cha33[0];
  msg.sharedStr2.chas[34]    = str2cha34[0];
  msg.sharedStr2.chas[35]    = str2cha35[0];
  msg.sharedStr2.chas[36]    = str2cha36[0];
  msg.sharedStr2.chas[37]    = str2cha37[0];
  msg.sharedStr2.chas[38]    = str2cha38[0];
  msg.sharedStr2.chas[39]    = str2cha39[0];
  msg.sharedStr2.chas[40]    = str2cha40[0];
  msg.sharedStr2.chas[41]    = str2cha41[0];
  msg.sharedStr2.chas[42]    = str2cha42[0];
  msg.sharedStr2.chas[43]    = str2cha43[0];
  msg.sharedStr2.chas[44]    = str2cha44[0];
  msg.sharedStr2.chas[45]    = str2cha45[0];
  msg.sharedStr2.chas[46]    = str2cha46[0];
  msg.sharedStr2.chas[47]    = str2cha47[0];
  msg.sharedStr2.chas[48]    = str2cha48[0];
  msg.sharedStr2.chas[49]    = str2cha49[0];
  msg.sharedStr2.chas[50]    = str2cha50[0];
  msg.sharedStr2.chas[51]    = str2cha51[0];
  msg.sharedStr2.chas[52]    = str2cha52[0];
  msg.sharedStr2.chas[53]    = str2cha53[0];
  msg.sharedStr2.chas[54]    = str2cha54[0];
  msg.sharedStr2.chas[55]    = str2cha55[0];
  msg.sharedStr2.chas[56]    = str2cha56[0];
  msg.sharedStr2.chas[57]    = str2cha57[0];
  msg.sharedStr2.chas[58]    = str2cha58[0];
  msg.sharedStr2.chas[59]    = str2cha59[0];
  msg.sharedStr2.chas[60]    = str2cha60[0];
  msg.sharedStr2.chas[61]    = str2cha61[0];
  msg.sharedStr2.chas[62]    = str2cha62[0];
  msg.sharedStr2.chas[63]    = str2cha63[0];
  msg.sharedStr2.chas[64]    = str2cha64[0];
  msg.sharedStr2.chas[65]    = str2cha65[0];
  msg.sharedStr2.chas[66]    = str2cha66[0];
  msg.sharedStr2.chas[67]    = str2cha67[0];
  msg.sharedStr2.chas[68]    = str2cha68[0];
  msg.sharedStr2.chas[69]    = str2cha69[0];
  msg.sharedStr2.chas[70]    = str2cha70[0];
  msg.sharedStr2.chas[71]    = str2cha71[0];
  msg.sharedStr2.chas[72]    = str2cha72[0];
  msg.sharedStr2.chas[73]    = str2cha73[0];
  msg.sharedStr2.chas[74]    = str2cha74[0];
  msg.sharedStr2.chas[75]    = str2cha75[0];
  msg.sharedStr2.chas[76]    = str2cha76[0];
  msg.sharedStr2.chas[77]    = str2cha77[0];
  msg.sharedStr2.chas[78]    = str2cha78[0];
  msg.sharedStr2.chas[79]    = str2cha79[0];
  msg.sharedStr2.chas[80]    = str2cha80[0];
  msg.sharedStr2.chas[81]    = str2cha81[0];
  msg.sharedStr2.chas[82]    = str2cha82[0];
  msg.sharedStr2.chas[83]    = str2cha83[0];
  msg.sharedStr2.chas[84]    = str2cha84[0];
  msg.sharedStr2.chas[85]    = str2cha85[0];
  msg.sharedStr2.chas[86]    = str2cha86[0];
  msg.sharedStr2.chas[87]    = str2cha87[0];
  msg.sharedStr2.chas[88]    = str2cha88[0];
  msg.sharedStr2.chas[89]    = str2cha89[0];
  msg.sharedStr2.chas[90]    = str2cha90[0];
  msg.sharedStr2.chas[91]    = str2cha91[0];
  msg.sharedStr2.chas[92]    = str2cha92[0];
  msg.sharedStr2.chas[93]    = str2cha93[0];
  msg.sharedStr2.chas[94]    = str2cha94[0];
  msg.sharedStr2.chas[95]    = str2cha95[0];
  msg.sharedStr2.chas[96]    = str2cha96[0];
  msg.sharedStr2.chas[97]    = str2cha97[0];
  msg.sharedStr2.chas[98]    = str2cha98[0];
  msg.sharedStr2.chas[99]    = str2cha99[0];

  msg.month                  = month[0];
  msg.day                    = day[0];
  msg.year                   = year[0];

  msg.change.street.length   = streetLength[0];
  msg.change.street.chas[0]  = streetcha0[0];
  msg.change.street.chas[1]  = streetcha1[0];
  msg.change.street.chas[2]  = streetcha2[0];
  msg.change.street.chas[3]  = streetcha3[0];
  msg.change.street.chas[4]  = streetcha4[0];
  msg.change.street.chas[5]  = streetcha5[0];
  msg.change.street.chas[6]  = streetcha6[0];
  msg.change.street.chas[7]  = streetcha7[0];
  msg.change.street.chas[8]  = streetcha8[0];
  msg.change.street.chas[9]  = streetcha9[0];
  msg.change.street.chas[10] = streetcha10[0];
  msg.change.street.chas[11] = streetcha11[0];
  msg.change.street.chas[12] = streetcha12[0];
  msg.change.street.chas[13] = streetcha13[0];
  msg.change.street.chas[14] = streetcha14[0];
  msg.change.street.chas[15] = streetcha15[0];
  msg.change.street.chas[16] = streetcha16[0];
  msg.change.street.chas[17] = streetcha17[0];
  msg.change.street.chas[18] = streetcha18[0];
  msg.change.street.chas[19] = streetcha19[0];
  msg.change.street.chas[20] = streetcha20[0];
  msg.change.street.chas[21] = streetcha21[0];
  msg.change.street.chas[22] = streetcha22[0];
  msg.change.street.chas[23] = streetcha23[0];
  msg.change.street.chas[24] = streetcha24[0];
  msg.change.street.chas[25] = streetcha25[0];
  msg.change.street.chas[26] = streetcha26[0];
  msg.change.street.chas[27] = streetcha27[0];
  msg.change.street.chas[28] = streetcha28[0];
  msg.change.street.chas[29] = streetcha29[0];
  msg.change.street.chas[30] = streetcha30[0];
  msg.change.street.chas[31] = streetcha31[0];
  msg.change.street.chas[32] = streetcha32[0];
  msg.change.street.chas[33] = streetcha33[0];
  msg.change.street.chas[34] = streetcha34[0];
  msg.change.street.chas[35] = streetcha35[0];
  msg.change.street.chas[36] = streetcha36[0];
  msg.change.street.chas[37] = streetcha37[0];
  msg.change.street.chas[38] = streetcha38[0];
  msg.change.street.chas[39] = streetcha39[0];
  msg.change.street.chas[40] = streetcha40[0];
  msg.change.street.chas[41] = streetcha41[0];
  msg.change.street.chas[42] = streetcha42[0];
  msg.change.street.chas[43] = streetcha43[0];
  msg.change.street.chas[44] = streetcha44[0];
  msg.change.street.chas[45] = streetcha45[0];
  msg.change.street.chas[46] = streetcha46[0];
  msg.change.street.chas[47] = streetcha47[0];
  msg.change.street.chas[48] = streetcha48[0];
  msg.change.street.chas[49] = streetcha49[0];
  msg.change.street.chas[50] = streetcha50[0];
  msg.change.street.chas[51] = streetcha51[0];
  msg.change.street.chas[52] = streetcha52[0];
  msg.change.street.chas[53] = streetcha53[0];
  msg.change.street.chas[54] = streetcha54[0];
  msg.change.street.chas[55] = streetcha55[0];
  msg.change.street.chas[56] = streetcha56[0];
  msg.change.street.chas[57] = streetcha57[0];
  msg.change.street.chas[58] = streetcha58[0];
  msg.change.street.chas[59] = streetcha59[0];
  msg.change.street.chas[60] = streetcha60[0];
  msg.change.street.chas[61] = streetcha61[0];
  msg.change.street.chas[62] = streetcha62[0];
  msg.change.street.chas[63] = streetcha63[0];
  msg.change.street.chas[64] = streetcha64[0];
  msg.change.street.chas[65] = streetcha65[0];
  msg.change.street.chas[66] = streetcha66[0];
  msg.change.street.chas[67] = streetcha67[0];
  msg.change.street.chas[68] = streetcha68[0];
  msg.change.street.chas[69] = streetcha69[0];
  msg.change.street.chas[70] = streetcha70[0];
  msg.change.street.chas[71] = streetcha71[0];
  msg.change.street.chas[72] = streetcha72[0];
  msg.change.street.chas[73] = streetcha73[0];
  msg.change.street.chas[74] = streetcha74[0];
  msg.change.street.chas[75] = streetcha75[0];
  msg.change.street.chas[76] = streetcha76[0];
  msg.change.street.chas[77] = streetcha77[0];
  msg.change.street.chas[78] = streetcha78[0];
  msg.change.street.chas[79] = streetcha79[0];
  msg.change.street.chas[80] = streetcha80[0];
  msg.change.street.chas[81] = streetcha81[0];
  msg.change.street.chas[82] = streetcha82[0];
  msg.change.street.chas[83] = streetcha83[0];
  msg.change.street.chas[84] = streetcha84[0];
  msg.change.street.chas[85] = streetcha85[0];
  msg.change.street.chas[86] = streetcha86[0];
  msg.change.street.chas[87] = streetcha87[0];
  msg.change.street.chas[88] = streetcha88[0];
  msg.change.street.chas[89] = streetcha89[0];
  msg.change.street.chas[90] = streetcha90[0];
  msg.change.street.chas[91] = streetcha91[0];
  msg.change.street.chas[92] = streetcha92[0];
  msg.change.street.chas[93] = streetcha93[0];
  msg.change.street.chas[94] = streetcha94[0];
  msg.change.street.chas[95] = streetcha95[0];
  msg.change.street.chas[96] = streetcha96[0];
  msg.change.street.chas[97] = streetcha97[0];
  msg.change.street.chas[98] = streetcha98[0];
  msg.change.street.chas[99] = streetcha99[0];

  msg.change.city.length     = cityLength[0];
  msg.change.city.chas[0]    = citycha0[0];
  msg.change.city.chas[1]    = citycha1[0];
  msg.change.city.chas[2]    = citycha2[0];
  msg.change.city.chas[3]    = citycha3[0];
  msg.change.city.chas[4]    = citycha4[0];
  msg.change.city.chas[5]    = citycha5[0];
  msg.change.city.chas[6]    = citycha6[0];
  msg.change.city.chas[7]    = citycha7[0];
  msg.change.city.chas[8]    = citycha8[0];
  msg.change.city.chas[9]    = citycha9[0];
  msg.change.city.chas[10]   = citycha10[0];
  msg.change.city.chas[11]   = citycha11[0];
  msg.change.city.chas[12]   = citycha12[0];
  msg.change.city.chas[13]   = citycha13[0];
  msg.change.city.chas[14]   = citycha14[0];
  msg.change.city.chas[15]   = citycha15[0];
  msg.change.city.chas[16]   = citycha16[0];
  msg.change.city.chas[17]   = citycha17[0];
  msg.change.city.chas[18]   = citycha18[0];
  msg.change.city.chas[19]   = citycha19[0];
  msg.change.city.chas[20]   = citycha20[0];
  msg.change.city.chas[21]   = citycha21[0];
  msg.change.city.chas[22]   = citycha22[0];
  msg.change.city.chas[23]   = citycha23[0];
  msg.change.city.chas[24]   = citycha24[0];
  msg.change.city.chas[25]   = citycha25[0];
  msg.change.city.chas[26]   = citycha26[0];
  msg.change.city.chas[27]   = citycha27[0];
  msg.change.city.chas[28]   = citycha28[0];
  msg.change.city.chas[29]   = citycha29[0];
  msg.change.city.chas[30]   = citycha30[0];
  msg.change.city.chas[31]   = citycha31[0];
  msg.change.city.chas[32]   = citycha32[0];
  msg.change.city.chas[33]   = citycha33[0];
  msg.change.city.chas[34]   = citycha34[0];
  msg.change.city.chas[35]   = citycha35[0];
  msg.change.city.chas[36]   = citycha36[0];
  msg.change.city.chas[37]   = citycha37[0];
  msg.change.city.chas[38]   = citycha38[0];
  msg.change.city.chas[39]   = citycha39[0];
  msg.change.city.chas[40]   = citycha40[0];
  msg.change.city.chas[41]   = citycha41[0];
  msg.change.city.chas[42]   = citycha42[0];
  msg.change.city.chas[43]   = citycha43[0];
  msg.change.city.chas[44]   = citycha44[0];
  msg.change.city.chas[45]   = citycha45[0];
  msg.change.city.chas[46]   = citycha46[0];
  msg.change.city.chas[47]   = citycha47[0];
  msg.change.city.chas[48]   = citycha48[0];
  msg.change.city.chas[49]   = citycha49[0];
  msg.change.city.chas[50]   = citycha50[0];
  msg.change.city.chas[51]   = citycha51[0];
  msg.change.city.chas[52]   = citycha52[0];
  msg.change.city.chas[53]   = citycha53[0];
  msg.change.city.chas[54]   = citycha54[0];
  msg.change.city.chas[55]   = citycha55[0];
  msg.change.city.chas[56]   = citycha56[0];
  msg.change.city.chas[57]   = citycha57[0];
  msg.change.city.chas[58]   = citycha58[0];
  msg.change.city.chas[59]   = citycha59[0];
  msg.change.city.chas[60]   = citycha60[0];
  msg.change.city.chas[61]   = citycha61[0];
  msg.change.city.chas[62]   = citycha62[0];
  msg.change.city.chas[63]   = citycha63[0];
  msg.change.city.chas[64]   = citycha64[0];
  msg.change.city.chas[65]   = citycha65[0];
  msg.change.city.chas[66]   = citycha66[0];
  msg.change.city.chas[67]   = citycha67[0];
  msg.change.city.chas[68]   = citycha68[0];
  msg.change.city.chas[69]   = citycha69[0];
  msg.change.city.chas[70]   = citycha70[0];
  msg.change.city.chas[71]   = citycha71[0];
  msg.change.city.chas[72]   = citycha72[0];
  msg.change.city.chas[73]   = citycha73[0];
  msg.change.city.chas[74]   = citycha74[0];
  msg.change.city.chas[75]   = citycha75[0];
  msg.change.city.chas[76]   = citycha76[0];
  msg.change.city.chas[77]   = citycha77[0];
  msg.change.city.chas[78]   = citycha78[0];
  msg.change.city.chas[79]   = citycha79[0];
  msg.change.city.chas[80]   = citycha80[0];
  msg.change.city.chas[81]   = citycha81[0];
  msg.change.city.chas[82]   = citycha82[0];
  msg.change.city.chas[83]   = citycha83[0];
  msg.change.city.chas[84]   = citycha84[0];
  msg.change.city.chas[85]   = citycha85[0];
  msg.change.city.chas[86]   = citycha86[0];
  msg.change.city.chas[87]   = citycha87[0];
  msg.change.city.chas[88]   = citycha88[0];
  msg.change.city.chas[89]   = citycha89[0];
  msg.change.city.chas[90]   = citycha90[0];
  msg.change.city.chas[91]   = citycha91[0];
  msg.change.city.chas[92]   = citycha92[0];
  msg.change.city.chas[93]   = citycha93[0];
  msg.change.city.chas[94]   = citycha94[0];
  msg.change.city.chas[95]   = citycha95[0];
  msg.change.city.chas[96]   = citycha96[0];
  msg.change.city.chas[97]   = citycha97[0];
  msg.change.city.chas[98]   = citycha98[0];
  msg.change.city.chas[99]   = citycha99[0];

  msg.change.state.length    = stateLength[0];
  msg.change.state.chas[0]   = statecha0[0];
  msg.change.state.chas[1]   = statecha1[0];
  msg.change.state.chas[2]   = statecha2[0];
  msg.change.state.chas[3]   = statecha3[0];
  msg.change.state.chas[4]   = statecha4[0];
  msg.change.state.chas[5]   = statecha5[0];
  msg.change.state.chas[6]   = statecha6[0];
  msg.change.state.chas[7]   = statecha7[0];
  msg.change.state.chas[8]   = statecha8[0];
  msg.change.state.chas[9]   = statecha9[0];
  msg.change.state.chas[10]  = statecha10[0];
  msg.change.state.chas[11]  = statecha11[0];
  msg.change.state.chas[12]  = statecha12[0];
  msg.change.state.chas[13]  = statecha13[0];
  msg.change.state.chas[14]  = statecha14[0];
  msg.change.state.chas[15]  = statecha15[0];
  msg.change.state.chas[16]  = statecha16[0];
  msg.change.state.chas[17]  = statecha17[0];
  msg.change.state.chas[18]  = statecha18[0];
  msg.change.state.chas[19]  = statecha19[0];
  msg.change.state.chas[20]  = statecha20[0];
  msg.change.state.chas[21]  = statecha21[0];
  msg.change.state.chas[22]  = statecha22[0];
  msg.change.state.chas[23]  = statecha23[0];
  msg.change.state.chas[24]  = statecha24[0];
  msg.change.state.chas[25]  = statecha25[0];
  msg.change.state.chas[26]  = statecha26[0];
  msg.change.state.chas[27]  = statecha27[0];
  msg.change.state.chas[28]  = statecha28[0];
  msg.change.state.chas[29]  = statecha29[0];
  msg.change.state.chas[30]  = statecha30[0];
  msg.change.state.chas[31]  = statecha31[0];
  msg.change.state.chas[32]  = statecha32[0];
  msg.change.state.chas[33]  = statecha33[0];
  msg.change.state.chas[34]  = statecha34[0];
  msg.change.state.chas[35]  = statecha35[0];
  msg.change.state.chas[36]  = statecha36[0];
  msg.change.state.chas[37]  = statecha37[0];
  msg.change.state.chas[38]  = statecha38[0];
  msg.change.state.chas[39]  = statecha39[0];
  msg.change.state.chas[40]  = statecha40[0];
  msg.change.state.chas[41]  = statecha41[0];
  msg.change.state.chas[42]  = statecha42[0];
  msg.change.state.chas[43]  = statecha43[0];
  msg.change.state.chas[44]  = statecha44[0];
  msg.change.state.chas[45]  = statecha45[0];
  msg.change.state.chas[46]  = statecha46[0];
  msg.change.state.chas[47]  = statecha47[0];
  msg.change.state.chas[48]  = statecha48[0];
  msg.change.state.chas[49]  = statecha49[0];
  msg.change.state.chas[50]  = statecha50[0];
  msg.change.state.chas[51]  = statecha51[0];
  msg.change.state.chas[52]  = statecha52[0];
  msg.change.state.chas[53]  = statecha53[0];
  msg.change.state.chas[54]  = statecha54[0];
  msg.change.state.chas[55]  = statecha55[0];
  msg.change.state.chas[56]  = statecha56[0];
  msg.change.state.chas[57]  = statecha57[0];
  msg.change.state.chas[58]  = statecha58[0];
  msg.change.state.chas[59]  = statecha59[0];
  msg.change.state.chas[60]  = statecha60[0];
  msg.change.state.chas[61]  = statecha61[0];
  msg.change.state.chas[62]  = statecha62[0];
  msg.change.state.chas[63]  = statecha63[0];
  msg.change.state.chas[64]  = statecha64[0];
  msg.change.state.chas[65]  = statecha65[0];
  msg.change.state.chas[66]  = statecha66[0];
  msg.change.state.chas[67]  = statecha67[0];
  msg.change.state.chas[68]  = statecha68[0];
  msg.change.state.chas[69]  = statecha69[0];
  msg.change.state.chas[70]  = statecha70[0];
  msg.change.state.chas[71]  = statecha71[0];
  msg.change.state.chas[72]  = statecha72[0];
  msg.change.state.chas[73]  = statecha73[0];
  msg.change.state.chas[74]  = statecha74[0];
  msg.change.state.chas[75]  = statecha75[0];
  msg.change.state.chas[76]  = statecha76[0];
  msg.change.state.chas[77]  = statecha77[0];
  msg.change.state.chas[78]  = statecha78[0];
  msg.change.state.chas[79]  = statecha79[0];
  msg.change.state.chas[80]  = statecha80[0];
  msg.change.state.chas[81]  = statecha81[0];
  msg.change.state.chas[82]  = statecha82[0];
  msg.change.state.chas[83]  = statecha83[0];
  msg.change.state.chas[84]  = statecha84[0];
  msg.change.state.chas[85]  = statecha85[0];
  msg.change.state.chas[86]  = statecha86[0];
  msg.change.state.chas[87]  = statecha87[0];
  msg.change.state.chas[88]  = statecha88[0];
  msg.change.state.chas[89]  = statecha89[0];
  msg.change.state.chas[90]  = statecha90[0];
  msg.change.state.chas[91]  = statecha91[0];
  msg.change.state.chas[92]  = statecha92[0];
  msg.change.state.chas[93]  = statecha93[0];
  msg.change.state.chas[94]  = statecha94[0];
  msg.change.state.chas[95]  = statecha95[0];
  msg.change.state.chas[96]  = statecha96[0];
  msg.change.state.chas[97]  = statecha97[0];
  msg.change.state.chas[98]  = statecha98[0];
  msg.change.state.chas[99]  = statecha99[0];

  msg.change.zip             = zip[0];
  msg.change.phone           = phone[0];
  msg.change.PADINum         = PADINum[0];

  msg.log.hr                 = hr[0];
  msg.log.min                = min[0];
  msg.log.sec                = sec[0];
  msg.log.maxDep             = maxDep[0];
  msg.log.avgDep             = avgDep[0];
  msg.log.durat              = durat[0];
  msg.log.O2                 = O2[0];
  msg.log.PSIIn              = PSIIn[0];
  msg.log.PSIOut             = PSIOut[0];

  msg.downHex[0]             = downHex0[0];
  msg.downHex[1]             = downHex1[0];
  msg.downHex[2]             = downHex2[0];
  msg.downHex[3]             = downHex3[0];
  msg.downHex[4]             = downHex4[0];
  msg.downHex[5]             = downHex5[0];
  msg.downHex[6]             = downHex6[0];
  msg.downHex[7]             = downHex7[0];
  msg.downHex[8]             = downHex8[0];
  msg.downHex[9]             = downHex9[0];
  msg.downHex[10]            = downHex10[0];
  msg.downHex[11]            = downHex11[0];
  msg.downHex[12]            = downHex12[0];
  msg.downHex[13]            = downHex13[0];
  msg.downHex[14]            = downHex14[0];
  msg.downHex[15]            = downHex15[0];
  msg.downHex[16]            = downHex16[0];
  msg.downHex[17]            = downHex17[0];
  msg.downHex[18]            = downHex18[0];
  msg.downHex[19]            = downHex19[0];
  msg.downHex[20]            = downHex20[0];
  msg.downHex[21]            = downHex21[0];
  msg.downHex[22]            = downHex22[0];
  msg.downHex[23]            = downHex23[0];
  msg.downHex[24]            = downHex24[0];
  msg.downHex[25]            = downHex25[0];
  msg.downHex[26]            = downHex26[0];
  msg.downHex[27]            = downHex27[0];
  msg.downHex[28]            = downHex28[0];
  msg.downHex[29]            = downHex29[0];
  msg.downHex[30]            = downHex30[0];
  msg.downHex[31]            = downHex31[0];

  msg.index                  = index[0];
  return msg;
}
